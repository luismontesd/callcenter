<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Iniciar Sesión</title>
  <link href='https://fonts.googleapis.com/css?family=Titillium+Web:400,300,600' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">

  
      <link rel="stylesheet" href="css/style.css">

  
</head>

<body src="css/callcenter.jpg">

  <div class="form">
      <div class="tab-content">
          <div id="signup">  
              <h1>Iniciar Sesión</h1>
              <form method="post" v-on:submit.prevent="login">
                <div class="field-wrap">
                
                <input type="email" placeholder="Correo" required autocomplete="off" name="usunom" v-model="correo"/>
              </div>
              
              <div class="field-wrap">
                <input type="password"required autocomplete="off" name="usucontra" placeholder="Contraseña" v-model="password"/>
              </div>
            
              
              <button class="button button-block">Iniciar Sesión</button>
              
              </form>
    
            </div>
        <div id="login">   
          <h1>Registrarse</h1>
          
          <form action="/" method="post">
          
          <div class="top-row">
            <div class="field-wrap">
              <label>
                Nombre<span class="req">*</span>
              </label>
              <input type="text" required autocomplete="off" name="nombre" />
            </div>
        
            <div class="field-wrap">
              <label>
                Región<span class="req">*</span>
              </label>
              <input type="text"required autocomplete="off" name="region" />
            </div>
          </div>

          <div class="field-wrap">
            <label>
              Teléfono de Contacto<span class="req">*</span>
            </label>
            <input type="text"required autocomplete="off" name="tel_con" />
          </div>
          
          <div class="field-wrap">
            <label>
              Contraseña<span class="req">*</span>
            </label>
            <input type="password"required autocomplete="off" name="contrasenia" />
          </div>
          
          <button type="submit" class="button button-block">Registrarse</button>
          
          </form>

        </div>
      </div><!-- tab-content -->
      
</div> <!-- /form -->
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
  <script  src="js/index.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue-resource/1.5.1/vue-resource.min.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src='https://unpkg.com/vue-router@2.0.0/dist/vue-router.js'></script>
<script>

var urlLoginAgent='http://localhost:3003/loginAgent';
new Vue({
  el: '#signup',
  data:{
    correo: '',
    password: ''
  },
  methods: {
    login: function(){
      this.$http.post('http://localhost:3003/loginAgent', {
        correo: this.correo,
        password: this.password
      }).then(function(response){
        var code = response.data.code
        if(code == 200){
          var idA = response.data.idAgente
          window.location.href = 'http://localhost/callcenter/views/index-call.php?idA='+idA+''
          //window.location.href = 'http://localhost:9999/256899/callcenter/views/index-call.html'+idA+''
        }else if(code == 204){
          alert("Datos incorrectos, intenta de nuevo")
        }
      });
    }
  }
});


/*var urlSesion = "http://localhost:3003/256899/callcenter/views/sesion"
new Vue({ 
  el: '#vueapp',
  created: function(){
    this.getSesion();
  },
  data: {
    id: ''
  },
  methods: {
    getSesion: function(){
      this.$http.get(urlSesion).then(function(response){
        this.id = reponse.data.id
        //this.list = response.data;
      });
    },
  }
})*/

</script>
</body>
</html>