<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Iniciar Sesión</title>
  <link href='https://fonts.googleapis.com/css?family=Titillium+Web:400,300,600' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">

  
      <link rel="stylesheet" href="css/style.css">

  
</head>

<body src="css/callcenter.jpg">

  <div class="form">
      <div class="tab-content">
          <div id="signup">  
              <h1>Iniciar Sesión</h1>
              <form method="post" v-on:submit.prevent="login">
                <div class="field-wrap">
                <label>
                  Correo<span class="req">*</span>
                </label>
                <input type="email" required autocomplete="off" name="usunom" v-model="correo"/>
              </div>
              
              <div class="field-wrap">
                <label>
                  Contraseña<span class="req">*</span>
                </label>
                <input type="password"required autocomplete="off" name="usucontra" v-model="password"/>
              </div>
            
              
              <button class="button button-block">Iniciar Sesión</button>
              
              </form>
    
            </div>
        <div id="login">   
          <h1>Registrarse</h1>
          
          <form action="/" method="post">
          
          <div class="top-row">
            <div class="field-wrap">
              <label>
                Nombre<span class="req">*</span>
              </label>
              <input type="text" required autocomplete="off" name="nombre" />
            </div>
        
            <div class="field-wrap">
              <label>
                Región<span class="req">*</span>
              </label>
              <input type="text"required autocomplete="off" name="region" />
            </div>
          </div>

          <div class="field-wrap">
            <label>
              Teléfono de Contacto<span class="req">*</span>
            </label>
            <input type="text"required autocomplete="off" name="tel_con" />
          </div>
          
          <div class="field-wrap">
            <label>
              Contraseña<span class="req">*</span>
            </label>
            <input type="password"required autocomplete="off" name="contrasenia" />
          </div>
          
          <button type="submit" class="button button-block">Registrarse</button>
          
          </form>

        </div>
      </div><!-- tab-content -->
      
</div> <!-- /form -->
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
  <script  src="js/index.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue-resource/1.5.1/vue-resource.min.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src='https://unpkg.com/vue-router@2.0.0/dist/vue-router.js'></script>
<script>
//import axios from 'axios'
    /*function login(){
      var url = 'http://localhost:3003/loginAgent';
      //var redirect = 'http://localhost:3003/deudores';
      axios.post(url, {
        correo: this.correo,
        password: this.password
        
      })
      .then(function(response){
        console.log(response)
        //redirect;
      })
      .catch(function(error){
        console.log(error)
      });
      console.log(correo, password)
    }*/
  

var urlLoginAgent='http://localhost:3003/loginAgent';
var redirectDeudores='http://localhost:3003/deudores';

Vue.use(VueRouter)

const router = new VueRouter({
  routes: routes
})
new Vue({
  el: '#signup',
  data:{
    correo: '',
    password: ''
  },
  methods: {
    login: function(){
      this.$http.post('http://localhost:3003/loginAgent', {
        correo: this.correo,
        password: this.password
      }).then(function(response){
        var code = response.data.code
        if(code == 200){
          router.push('/deudores')
          //this.router.push('http://localhost:3003/deudores')
        }
      });
    }
  }
});
</script>



</body>

</html>